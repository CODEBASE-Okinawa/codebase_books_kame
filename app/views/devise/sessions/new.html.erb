 <div class="usr_login_title">
  <h1>CODEBASE BOKS</h1>

  <div class="usr_login">
    <h2>ログイン</h2>

    <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <p>
        <div class="field">
          <%= f.label :email %><br />
          <%= f.email_field :email, autofocus: true, autocomplete: "email", :size=>"40" %>
        </div>
      </p>

      <p>
        <div class="field">
          <%= f.label :password %><br />
          <%= f.password_field :password, autocomplete: "current-password", :size=>"40"%><br />
          <input type="checkbox" id="toggle_password" onClick='passwordShowHide();' >
          <label>パスワードを表示する</label>
        </div>
      </p>

      <p>
        <% if devise_mapping.rememberable? %>
          <div class="field">
            <%= f.check_box :remember_me %>
            <%= f.label :remember_me, "ログインしたままにする" %>
          </div>
        <% end %>
      </p>

      <p>
        <div class="actions">
          <%= f.submit "ログインする"%>
        </div>
      </p>
    <% end %>

    <%= render "devise/shared/links" %>
  </div>
</div>

<script type="text/javascript">
  const password = document.getElementById('user_password');
  const toggle = document.getElementById('toggle_password');

  function passwordShowHide(){
    if(password.type === 'password'){
      password.setAttribute('type','text');
      toggle.nextElementSibling.textContent = 'パスワードを非表示にする';
    } else {
      password.setAttribute('type','password');
      toggle.nextElementSibling.textContent = 'パスワードを表示する';
    }
  }
</script>